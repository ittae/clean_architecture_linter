# Clean Architecture Linter - 팀 엄격 모드
#
# 권장 규칙(SHOULD FOLLOW)을 강제(MUST)로 설정하는 방법

analyzer:
  plugins:
    - custom_lint

# 모든 Clean Architecture 규칙을 ERROR 레벨로 강제
linter:
  rules:
    # 기본 Dart 품질 규칙도 함께 강제
    - prefer_const_constructors
    - prefer_final_fields
    - always_declare_return_types
    - avoid_print
    - avoid_unnecessary_containers

# Custom Lint 규칙 강제 설정
# 참고: custom_lint에서는 모든 규칙이 기본적으로 error 레벨입니다.
# 하지만 특정 규칙만 비활성화하거나 조정할 수 있습니다.

custom_lint:
  # 규칙별 세밀 조정은 아직 제한적입니다.
  # 대신 파일별 예외 처리가 가능합니다:

  # 예시: Legacy 파일 예외 처리
  # exclude:
  #   - "lib/legacy/**"
  #   - "**/*_legacy.dart"

  rules:
    # 모든 규칙 활성화 (기본값)
    # 개별 규칙 비활성화는 다음과 같이:
    # - some_rule_name: false

# ========================================
# 팀 규칙 강제를 위한 추가 설정
# ========================================

# Git hooks와 연동하여 더 강력한 강제 가능
# .git/hooks/pre-commit 예시:
# #!/bin/sh
# dart analyze --fatal-infos --fatal-warnings
# if [ $? -ne 0 ]; then
#   echo "❌ Clean Architecture 규칙 위반이 발견되었습니다!"
#   echo "수정 후 다시 커밋하세요."
#   exit 1
# fi

# CI/CD 파이프라인에서 강제
# - name: Check Clean Architecture
#   run: |
#     dart pub get
#     dart analyze --fatal-infos --fatal-warnings
#     if [ $? -ne 0 ]; then
#       echo "Build failed due to Clean Architecture violations"
#       exit 1
#     fi